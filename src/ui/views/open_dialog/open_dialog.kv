#: import config src.config
#: import AutoCompleteLabel src.ui.views.AutoCompleteLabel


<OpenDialog>:
    size_hint: None, None
    size: config.get_common_window_size()
    md_bg_color: 238 / 255, 238 / 255, 238 / 255, 1
    auto_dismiss: False
    orientation: 'vertical'

    MDAnchorLayout:
        size_hint: 1, None
        height: 40

        FitImage:
            source: 'assets/images/background.png'

        Label:
            color: 'white'
            text: 'Открыть расписание'
            font_name: 'assets/fonts/Montserrat/static/Montserrat-Regular.ttf'
            font_size: 20

    BoxLayout:
        size_hint: 1, None
        height: 80
        padding: 8
        spacing: 10

        MDIconButton:
            icon: 'assets/images/icons8-стрелка-влево-в-круге-2-96 1.png'
            icon_size: "60sp"
            pos_hint: {"center_y": .5}
            theme_text_color: "Hint"
            on_press: root.dismiss()

        MDCard:
            style: 'outlined'
            line_color: 185 / 255, 162 / 255, 255 / 255, 100 / 100
            padding: 30, 0, 0, 0

            Widget:
                size_hint_x: None
                width: 300

            Widget:
                size_hint_x: None
                width: 300

            MDIconButton:
                icon: 'assets/images/icons8-очистить-фильтры-96.png'
                icon_size: "40sp"
                pos_hint: {"center_x": .5, "center_y": .5}
                theme_text_color: "Hint"
                on_press: root.clear_filters()

            MDIconButton:
                icon: 'assets/images/icons8-google-поиск 1.png'
                icon_size: "40sp"
                pos_hint: {"center_x": .5, "center_y": .5}
                theme_text_color: "Hint"
                on_press: root.send_command_to_update_schedule_items()

    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'

        MDScrollView:

            MDList:
                id: list_container

    MDBoxLayout:
        size_hint_y: None
        height: 0
        pos_hint: {"top": 1}
        size_hint_x: .83
        padding: 110, 0, 0, 0

        RelativeLayout:

            AutoCompleteLabel:
                id: year
                request_method: root.send_command_to_get_years_values
                recycle_view_height: 100
                hint_text: root.year_hint
                total_width: 300
                pos: 0, 410

        RelativeLayout:

            AutoCompleteLabel:
                id: term
                request_method: root.send_command_to_get_terms_values
                recycle_view_height: 100
                hint_text: root.term_hint
                total_width: 300
                pos: 0, 410
