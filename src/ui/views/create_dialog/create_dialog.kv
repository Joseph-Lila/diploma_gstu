#: import config src.config
#: import ClickableTextFieldRound src.ui.views.ClickableTextFieldRound


<CreateDialog>:
    size_hint: None, None
    size: config.get_common_window_size()
    md_bg_color: 238 / 255, 238 / 255, 238 / 255, 1
    auto_dismiss: False
    orientation: 'vertical'

    MDAnchorLayout:
        size_hint: 1, None
        height: 40

        FitImage:
            source: 'assets/images/background.png'

        Label:
            color: 'white'
            text: 'Создать расписание'
            font_name: 'assets/fonts/Montserrat/static/Montserrat-Regular.ttf'
            font_size: 24

    BoxLayout:
        size_hint: 1, None
        height: 80
        padding: 8
        spacing: 10

        MDIconButton:
            icon: 'assets/images/icons8-стрелка-влево-в-круге-2-96 1.png'
            icon_size: "60sp"
            pos_hint: {"center_y": .5}
            theme_text_color: "Hint"
            on_press: root.dismiss()

        MDLabel:
            valign: 'center'
            halign: 'center'
            color: 'black'
            adaptive_height: True
            pos_hint: {"center_y": .5}
            text: 'Заполните, пожалуйста, все поля...'
            font_name: 'assets/fonts/Montserrat/static/Montserrat-Regular.ttf'
            font_size: 28

    BoxLayout:
        size_hint_y: .5

        Widget:

        Widget:

    BoxLayout:
        padding: 50, 0, 50, 0

        MDCard:
            orientation: 'vertical'
            padding: 10

            MDLabel:
                size_hint_y: .3
                valign: 'center'
                color: 'black'
                text: 'Окно вывода:'
                font_name: 'assets/fonts/Montserrat/static/Montserrat-Italic.ttf'
                font_size: 24

            TextInput:
                id: outcome_text_input

                multiline: True
                font_size: 20
                font_name: 'assets/fonts/Montserrat/static/Montserrat-Regular.ttf'
                text:
                    'Все хорошо.' if year.text != '' and term.text != '' else 'Выберите год и семестр!'
                background_color: (0, 1, 0, .5) if year.text != '' and term.text != '' else (1, 0, 0, .5)

    AnchorLayout:
        size_hint_y: None
        height: 80

        MDFillRoundFlatButton:
            md_bg_color: 3 / 255, 130 / 255, 0, 1
            disabled: False if year.text != '' and term.text != '' else True
            font_size: 24
            text: 'Создать'
            on_release: root.send_command_to_create_schedule()

    MDBoxLayout:
        size_hint_y: None
        height: 0
        pos_hint: {"top": 1}

        RelativeLayout:

            AutoCompleteLabel:
                id: year
                request_method: root.send_command_to_get_years_values
                recycle_view_height: 100
                hint_text: root.year_hint
                total_width: 300
                pos: 0, 330

        RelativeLayout:

            AutoCompleteLabel:
                id: term
                request_method: root.send_command_to_get_terms_values
                recycle_view_height: 100
                hint_text: root.term_hint
                total_width: 300
                pos: 0, 330
